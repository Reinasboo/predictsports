# Quick Vercel Deployment Guide

## TL;DR - Deploy in 3 Steps

### Step 1: Deploy Frontend to Vercel (5 minutes)

1. Go to https://vercel.com/new
2. Select your GitHub repository: `https://github.com/Reinasboo/predictsports`
3. Vercel auto-detects Next.js project at `/frontend`
4. Set environment variables:
   ```
   NEXT_PUBLIC_API_URL = https://your-backend.railway.app
   NEXT_PUBLIC_GEMINI_API_KEY = AIzaSyCDA7ZZwuQsvNjqd6nJ_wO65I7HEPyZ_hY
   ```
5. Click "Deploy" â†’ âœ… Frontend live!

### Step 2: Deploy Backend + Bot to Railway (10 minutes)

1. Go to https://railway.app/dashboard
2. Click "New Project" â†’ "Deploy from GitHub repo"
3. Select your predictsports repo
4. Create `railway.toml` in root:
   ```toml
   [build]
   builder = "dockerfile"
   dockerfile = "./backend/Dockerfile"

   [[services]]
   name = "backend"
   numReplicas = 1
   ```
5. Set environment variables in Railway dashboard:
   ```
   PORT = 3001
   TELEGRAM_BOT_TOKEN = 8707110372:AAE76L5PcD-eQxO-zIsnmMdHOOW5mf6nt0M
   GEMINI_API_KEY = AIzaSyCDA7ZZwuQsvNjqd6nJ_wO65I7HEPyZ_hY
   DATABASE_URL = [Generated by Railway PostgreSQL]
   REDIS_URL = [Generated by Railway Redis]
   NODE_ENV = production
   ```
6. Add PostgreSQL & Redis plugins from Railway dashboard
7. Click "Deploy" â†’ âœ… Backend + Bot running!

### Step 3: Update Frontend with Backend URL (2 minutes)

1. In Railway dashboard, find Backend service domain (e.g., `https://predictsports-backend-prod.up.railway.app`)
2. Go to Vercel project â†’ Settings â†’ Environment Variables
3. Update: `NEXT_PUBLIC_API_URL = https://predictsports-backend-prod.up.railway.app`
4. Redeploy: `git push origin main` â†’ Frontend auto-redeploys with new API URL

Done! ğŸ‰

---

## What's Running Where

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VERCEL (Frontend)                                      â”‚
â”‚  https://your-project.vercel.app                        â”‚
â”‚  â€¢ Next.js UI                                           â”‚
â”‚  â€¢ Button clicks â†’ API calls                            â”‚
â”‚  â€¢ Auto-deploys on git push                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“ (API Calls)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RAILWAY (Backend + Bot)                                â”‚
â”‚  https://predictsports-backend-prod.up.railway.app      â”‚
â”‚  â€¢ Fastify API server (port 3001)                       â”‚
â”‚  â€¢ Telegram Bot (receives updates)                      â”‚
â”‚  â€¢ PostgreSQL database                                  â”‚
â”‚  â€¢ Redis cache                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Bot Commands (Running on Backend)

Once deployed, test on Telegram:
- `/start` â†’ Welcome message
- `/help` â†’ List commands
- `/today` â†’ Today's matches
- `/analyze {player}` â†’ Player stats & Gemini analysis
- `/table` â†’ League standings
- `/match {id}` â†’ Match predictions

---

## API Endpoints (Production)

```
GET  https://backend.railway.app/api/health
GET  https://backend.railway.app/api/fixtures
GET  https://backend.railway.app/api/fixtures/:id
GET  https://backend.railway.app/api/predictions/:matchId
GET  https://backend.railway.app/api/matches/:id
GET  https://backend.railway.app/api/live
POST https://backend.railway.app/api/predictions/:matchId
```

---

## Verify Everything Works

### 1. Test Frontend
- [ ] Visit https://your-project.vercel.app
- [ ] Click around, load dashboard
- [ ] No 404 errors

### 2. Test Backend
```bash
curl https://your-backend.railway.app/api/health
# Should return: {"status":"ok","timestamp":"..."}
```

### 3. Test Bot
- [ ] Send `/start` to @predictsportxbot on Telegram
- [ ] Should get welcome message
- [ ] Test `/help` command

### 4. Test API Integration
- [ ] In frontend, click "View Predictions"
- [ ] Wait for data to load
- [ ] Check browser console for errors (F12)

---

## Troubleshooting

### Frontend won't load
```
Error: API call failed to http://localhost:3000
Solution: Update NEXT_PUBLIC_API_URL in Vercel env vars
```

### Bot doesn't respond
```
Check Railway logs: Dashboard â†’ Backend service â†’ Logs
Look for: "Telegram bot initialized" or error messages
Fix: Verify TELEGRAM_BOT_TOKEN is correct
```

### Database errors
```
Check Railway PostgreSQL is running
Verify DATABASE_URL matches PostgreSQL plugin
Run migrations if needed
```

### Slow API responses
```
Check Railway CPU/Memory usage
Monitor database query performance
Verify Redis is connected and working
```

---

## Cost Breakdown

| Service | Cost | Notes |
|---------|------|-------|
| Vercel | Free | Frontend hosting, auto-deploy |
| Railway (Backend) | $5/month | Pod + PostgreSQL + Redis |
| Total | $5/month | Great for production! |

---

## Next Steps

1. **Set up CI/CD pipeline** - GitHub Actions for testing
2. **Add monitoring** - Sentry for error tracking
3. **Set up CDN** - Cloudflare for static assets
4. **Add analytics** - PostHog or Mixpanel
5. **Set up backups** - Automated PostgreSQL backups
